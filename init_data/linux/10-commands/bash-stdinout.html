<h1>Стандартные потоки Linux</h1>

<p>Стандартный поток ввода stdin(0)</p>

<p>Стандартным потоком ввода (stdin) является
клавиатура. В большинстве случаев, поток входных
данных вводится именно через клавиатуру.</p>

<p>Стандартный поток вывода stdout(1)</p>

<p>Стандартный вывод (stdout) – это поток, в который
программы выводят результаты работы. Обычно эти
данные отображаются на экране монитора.</p>

<p>Стандартный поток ошибок stderr(2)</p>

<p>Стандартный поток ошибок (stderror) – поток,
используемый для вывода сообщений об ошибках и
диагностики. Этот поток независим от стандартного
потока вывода и может перенаправляться отдельно.</p>

<h2>Символы перенаправления.</h2>

<blockquote>
  <ul>
  <li>перенаправляет с заменой. Создает новый файл, содержащий данные стандартного
  потока вывода. Если указанный файл существует, то он
  перезаписывается.</li>
  </ul>
  
  <blockquote>
    <ul>
    <li>перенаправляет с дополнением. Создает новый файл, содержащий данные стандартного
    потока вывода. Если указанный файл существует, то он
    дописывается.</li>
    </ul>
  </blockquote>
</blockquote>

<p>2> - перенапрявляет поток ошибок. Создает новый файл, содержащий данные стандартного
потока ошибок. Если указанный файл существует, то он
перезаписывается.</p>

<p>2>&gt; - Добавляет информацию со стандартного потока вывода в
существующий файл. Если указанный файл не
существует, то он создается.</p>

<p>&amp;&gt; - Создает новый файл, содержащий данные стандартного
потока вывода и потока ошибок. Если указанный файл
существует, то он перезаписывается.</p>

<p>2>&amp;1 - Выводит стандартные потоки вывода и ошибок в один
файл.</p>

<p>&lt; - Перенаправляет содержимое файла как стандартный
поток ввода.</p>

<p>| - Перенаправляет стандартный поток вывода одной
команды в стандартный поток ввода другой команды.</p>

<p>Если у вас есть программа handywork читающая ввод из stdin и отправляющая данные в stdout, то это можно легко переопределить.</p>

<pre><code>handywork &lt; in.dat &gt; out.dat
</code></pre>

<p>если с ошибками то</p>

<pre><code>handywork &lt; in.dat &gt; out.dat 2&gt; err.dat
</code></pre>

<h2>Команда tee</h2>

<p>Если нужно одновременно увидель результаты и переправить вывод в файл используется команда tee</p>

<pre><code>handywork &lt; data.in | tee result
</code></pre>

<p>использование параметра -a допишет в файл</p>

<h2>Команда xargs</h2>

<p>Команда xargs объединяет зафиксированный набор заданных в командной строке начальных аргументов с аргументами, прочитанными со стандартного ввода, и выполняет указанную команду один или несколько раз.</p>

<p>Означает что она может передавать вывод одной команды качестве аргумента другой команде.</p>

<p>Если команда не указана, xargs выполняет эхо вывод по умолчанию.</p>

<p>Таким образом преобразовать вывод множества строк из команды ls в одну строку, используя xargs следующим образом:</p>

<pre><code>ls -1 | xargs
</code></pre>

<p>Или создать компактный вывод списка пользователей системы</p>

<pre><code>cut -d: -f1 &lt; /etc/passwd | sort | xargs
</code></pre>

<p>Посчитать количество символов и строк файлов</p>

<pre><code>ls | xargs wc
</code></pre>

<p>Данная команда принимает на вход поток вывода от команды echo и отправляет его как аргументы в команду echo</p>

<pre><code>echo A B C | xargs echo
</code></pre>

<p>Данная команда принимает на вход поток вывода от команды echo и отправляет его как аргументы в команду echo, запуская для каждой группы из одного параметра (т. е. для каждого параметра) отдельный процесс</p>

<pre><code>echo A B C | xargs -n 1 echo
</code></pre>

<p><strong>-n число</strong> - Выполнить команду, используя максимально возможное количество аргументов, прочитанных со стандартного ввода, но не более заданного числа. </p>

<p><strong>-I зам<em>цеп</strong> - Режим вставки: команда выполняется для каждой строки стандартного ввода, причём вся строка рассматривается как один аргумент и подставляется в начальные</em>аргументы вместо каждого вхождения цепочки символов зам_цеп.</p>
